@import 'pop-pup';


$request-element-width: calc(290px + (398 - 290) * ((100vw - 390px) / (1920 - 390)));
//108
$request-element_button-before: calc(126px + (161.54 - 126) * ((100vw - 390px) / (1920 - 390)));
//35.54
.main {
	max-width: 100vw;
	height: 44.27vw;

	&__background {
	}

	&__title {
		max-width: 1148px;
		max-height: 360px;
		transition: font-size 0.3s ease-in-out, line-height 0.3s ease-in-out, max-width 0.3s ease-in-out,
			max-height 0.3s ease-in-out;

		&_text {
			font-weight: 600;
			font-size: 90px;
			line-height: 120px;
			color: $color-acquered-liquorice;
			word-wrap: break-word;
			// max-width: 290px;
			// max-height: 120px;
			width: 1148px;
			height: 360px;
			margin: 0 auto;
		}
		.eco {
			white-space: nowrap;
			&::after {
				content: '';
				position: absolute;

				background-image: url('../img/eco.svg');
				background-repeat: no-repeat;
				background-size: contain;
				background-position: 0;
				transform: translateY(0px) rotate(8.4deg);
				transition: width 0.3s ease-in-out, height 0.3s ease-in-out, transform 0.3s ease-in-out;
			}
		}
	}

	&__request {
		&_input {
		}
		.input-field {
			margin-bottom: 16px;
		}
		&_input ~ label {
			font-weight: 400;
			font-size: 12px;
			line-height: 180%;
		}
		& input {
		}

		& button {
			&#request {
				@media screen and (max-width: 390px) {
					& {
						width: 290px;
					}
					&::before {
						width: 126px;
					}
				}
				@media screen and (min-width: 391px) and (max-width: $width__pc_full) {
					& {
						width: $request-element-width;
					}
					&::before {
						width: $request-element_button-before;
					}
				}
				@media (min-width: $width__pc_full) {
					& {
						width: 398px;
					}
				}
				& {
					height: 50px;
					background: $color-acquered-liquorice;
					border-radius: 50px;
					transition: width 0.3s ease-in-out;
					transition: background-color 0.3s;
					border: none;

					&::before {
						content: 'Оставить заявку';
						display: inline-block;
						width: 126px;
						height: 14px;
						font-weight: 700;
						font-size: 14px;
						line-height: 100%;
						color: $color-white;
						transition: width 0.3s ease-in-out;
					}
				}
				&:hover {
					background: $color-green;
				}

				&:hover::before {
					color: $color-acquered-liquorice;
				}
			}
		}
	}
}

// ================ Desktop ====================
@media screen and (min-width: $width__tablet__mini_lower) {
	.main {
		padding-left: 12.76vw;
		// margin-left: 12.76vw;
		// display: flex;
		// flex-direction: column;
		display: grid;
		// grid-template-rows: auto 38vw;
		// grid-template-columns: 55.2% 44.8%;
		align-content: stretch;

		grid-template-areas:
			'A A A A   A A A A   C C C C'
			'A A A A   A A A A   C C C C'
			'B B . .   . . . .   C C C C'
			'B B . .   . . . .   C C C C';

		// grid-template-rows: 50px 1fr 30px;
		// grid-template-columns: 150px 1fr;
		&__title {
			// order: 2;
			grid-row: 2;
			grid-column: 1;
			max-width: 1148px;
			max-height: 360px;
			grid-area: A;
			margin-top: 109px;
			.eco::after {
				width: 118.2px;
				height: 50px;
				transform: translateY(8px) translateX(-61px) rotate(8.4deg);
			}
		}
		// &__background {
		// 	// order: -1;
		// 	grid-row: 1;
		// 	grid-column: 1;
		// 	background: url('../img/main-chopsticks-x2.png');
		// 	background-attachment: fixed;
		// 	background-repeat: no-repeat;
		// 	background-size: contain;
		// 	background-position: center;

		// 	height: 100%;
		// 	width: 38vw;
		// 	max-width: 39vw;
		// 	grid-area: C;
		// }
		&:not(.mobile) {
			background: url('../img/main-chopsticks-x2.png');
			// background-attachment: fixed;
			background-repeat: no-repeat;
			background-size: 38vw;
			// background-position: right 50% bottom 0%;
			background-position-y: 0vw;
			background-position-x: 48.24000000000001vw;
			background-origin: content-box;
		}

		&__request {
			// order: 3;
			grid-area: B;
			grid-row: 3;
			grid-column: 1;
			// margin-top: 518px;
		}
	}
}

@media screen and (min-width: $width__tablet__mini_lower) and (max-width: $width__pc_full - 1px) {
	.main {
		&__title {
			&_text {
				font-size: calc((100vw - 600px) / (1920 - 600) * (90 - 28) + 28px);
				line-height: calc((100vw - 600px) / (1920 - 600) * (120 - 40) + 40px);
				.eco::after {
					content: '';
					width: calc((100vw - 600px) / (1920 - 600) * (118.2 - 43.8) + 43.8px);
					height: calc((100vw - 600px) / (1920 - 600) * (50 - 18.53) + 18.53px);
					transform: calcFluidTransform(
						-18px,
						-61px,
						3px,
						8px,
						390px,
						1920px
					); // Пример использования функции с вашими параметрами
					transform: translateY(calc((100vw - 600px) / (1920 - 600) * (8 - 3) + 3px))
						translateX(calc((100vw - 600px) / (1920 - 600) * (-61 - -18) + -18px)) rotate(8.4deg);
				}
			}
		}

		//1920
		// background-attachment: fixed;
		// background-position-y: 8vw;
		// background-position-x: 60.239999999999995vw;
	}
}
//====================== media MOBILE  ======================
@media screen and (max-width: $width__phone_upper) {
	.main {
		min-height: 584px;
		&__background {
			z-index: -1;
			transform: rotate(1.15deg);
			background: url('../img/main-chopsticks-phone-512wh-265.png');
			// background: center / contain no-repeat url('../img/main-chopsticks-phone.png') ;
			background-repeat: no-repeat;
			background-size: contain;
			background-position: center;
			// width: 507.19px;
			// height: 285.53px;
			width: 100vw;
			height: calc(100vw / 1.93);

			object-fit: scale-down;
			margin: 0 auto;
		}

		&__title {
			&_text {
				font-weight: 600;
				font-size: 28px;
				line-height: 40px;
				word-wrap: break-word;
				max-width: 290px;
				max-height: 120px;
				margin: 0 auto;
			}
			.eco {
				&::after {
					width: 43.8px;
					height: 18.53px;
					transform: translateY(3px) translateX(-18px) rotate(8.4deg);
				}
			}
		}

		&__request {
			// max-width: calc(100vw - $request-element-width) ;
			// margin: 0 auto;
			display: grid;
			place-items: center;

			&_input {
				// max-width: 290px;
			}
			.input-field {
			}
			& input {
			}

			& button {
				&#request {
					width: 290px;
					height: 50px;
					background: $color-acquered-liquorice;
					border-radius: 50px;
				}
			}
		}
	}
}

//======================  input  ======================
.input-field {
	box-sizing: border-box;
	position: relative;

	input {
		width: 398px; // 290px
		height: 50px;
		border-radius: 50px;
		font-size: 18px;
		padding: 0 15px;
		border: 2px solid $color-acquered-liquorice;
		background: transparent;
		color: $color-acquered-liquorice;
		outline: none;
		transition: width 0.3s ease-in-out;
		@media screen and (max-width: $width__iPhone_13_Pro) {
			width: 290px;
		}
		@media (min-width: 391px) and (max-width: $width__pc_full) {
			width: $request-element-width;
		}
		@media (min-width: $width__pc_full) {
			width: 398px;
		}
	}
	label {
		position: absolute;
		top: 50%;
		left: 15px;
		transform: translateY(-50%);
		color: $color-acquered-liquorice;
		font-size: 19px;
		pointer-events: none;
		transition: 0.3s;
	}
	input:focus {
		border: 2px solid $color-green;
	}
	input:focus ~ label,
	input:valid ~ label {
		font-family: 'Poppins', sans-serif;
		top: 0;
		left: 15px;
		font-size: 16px;
		padding: 0 2px;
		background: $color-white;
	}
}
